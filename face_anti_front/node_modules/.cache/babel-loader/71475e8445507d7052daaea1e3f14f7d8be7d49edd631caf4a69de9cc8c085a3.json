{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-652a0172\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = {\n  class: \"box\"\n};\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h5\", {\n  class: \"tip\"\n}, \"历史视频数据\", -1));\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1));\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1));\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1));\nconst _hoisted_7 = {\n  class: \"middle_right\"\n};\nconst _hoisted_8 = [\"src\"];\nconst _hoisted_9 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1));\nconst _hoisted_10 = {\n  class: \"button_list\"\n};\nconst _hoisted_11 = {\n  class: \"box\"\n};\nconst _hoisted_12 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h5\", {\n  class: \"tip\"\n}, \"视频结果数据\", -1));\nconst _hoisted_13 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1));\nconst _hoisted_14 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1));\nconst _hoisted_15 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1));\nconst _hoisted_16 = {\n  class: \"right\"\n};\nconst _hoisted_17 = [\"src\"];\nconst _hoisted_18 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1));\nconst _hoisted_19 = {\n  class: \"button_list\"\n};\nimport { ref, onMounted } from 'vue';\nimport instance from '@/service';\nimport { useRouter } from 'vue-router';\nexport default {\n  __name: 'datasetVedio',\n  setup(__props) {\n    const router = useRouter();\n    const video = ref(null);\n    onMounted(() => {\n      const formData = new FormData();\n      const email = localStorage.getItem('email');\n      if (email == null) {\n        console.log(\"未登录\");\n        router.push('./login');\n        return;\n      }\n      let video = [];\n      let analysis_video = [];\n      formData.append('email', email);\n      instance.post('/get_videos', formData).then(res => {\n        video = res.video === undefined ? [] : res.video;\n        analysis_video = res.analysis_video === undefined ? [] : res.analysis_video;\n        for (let i = 0; i < video.length; i++) {\n          history_video_list.value.push({\n            name: video[i].name,\n            url: '/api' + video[i].url\n          });\n        }\n        for (let i = 0; i < analysis_video.length; i++) {\n          result_video_list.value.push({\n            name: analysis_video[i].name,\n            url: '/api' + analysis_video[i].url\n          });\n        }\n        console.log(result_video_list.value);\n      });\n    });\n    const history_video_list = ref([]);\n    const result_video_list = ref([]);\n    function showDetail(url) {\n      window.open(url, '_blank');\n    }\n    return (_ctx, _cache) => {\n      const _component_el_button = _resolveComponent(\"el-button\");\n      const _component_el_card = _resolveComponent(\"el-card\");\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _hoisted_4, _hoisted_5, _hoisted_6, _createElementVNode(\"div\", _hoisted_7, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(history_video_list.value, (item, index) => {\n        return _openBlock(), _createBlock(_component_el_card, {\n          shadow: \"hover\",\n          class: \"list_button\",\n          key: index\n        }, {\n          header: _withCtx(() => [_createTextVNode(_toDisplayString(item.name), 1)]),\n          default: _withCtx(() => [_createElementVNode(\"video\", {\n            ref_for: true,\n            ref_key: \"video\",\n            ref: video,\n            src: item.url,\n            width: \"300\",\n            height: \"200\"\n          }, null, 8, _hoisted_8), _hoisted_9, _createElementVNode(\"div\", _hoisted_10, [_createVNode(_component_el_button, {\n            class: \"button\",\n            type: \"primary\",\n            onClick: $event => showDetail(item.url)\n          }, {\n            default: _withCtx(() => [_createTextVNode(\"查看详情\")]),\n            _: 2\n          }, 1032, [\"onClick\"]), _createVNode(_component_el_button, {\n            class: \"button\",\n            type: \"primary\"\n          }, {\n            default: _withCtx(() => [_createTextVNode(\"开始分析\")]),\n            _: 1\n          }), _createVNode(_component_el_button, {\n            class: \"button\",\n            type: \"danger\"\n          }, {\n            default: _withCtx(() => [_createTextVNode(\"删除\")]),\n            _: 1\n          })])]),\n          _: 2\n        }, 1024);\n      }), 128))])]), _createElementVNode(\"div\", _hoisted_11, [_hoisted_12, _hoisted_13, _hoisted_14, _hoisted_15, _createElementVNode(\"div\", _hoisted_16, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(result_video_list.value, (item, index) => {\n        return _openBlock(), _createBlock(_component_el_card, {\n          shadow: \"hover\",\n          class: \"list_button\",\n          key: index\n        }, {\n          header: _withCtx(() => [_createTextVNode(_toDisplayString(item.name), 1)]),\n          default: _withCtx(() => [_createElementVNode(\"video\", {\n            src: item.url,\n            width: \"300\",\n            height: \"200\"\n          }, null, 8, _hoisted_17), _hoisted_18, _createElementVNode(\"div\", _hoisted_19, [_createVNode(_component_el_button, {\n            class: \"button\",\n            type: \"primary\",\n            onClick: $event => showDetail(item.url)\n          }, {\n            default: _withCtx(() => [_createTextVNode(\"查看详情\")]),\n            _: 2\n          }, 1032, [\"onClick\"]), _createVNode(_component_el_button, {\n            class: \"button\",\n            type: \"danger\"\n          }, {\n            default: _withCtx(() => [_createTextVNode(\"删除\")]),\n            _: 1\n          })])]),\n          _: 2\n        }, 1024);\n      }), 128))])])]);\n    };\n  }\n};","map":{"version":3,"names":["ref","onMounted","instance","useRouter","router","video","formData","FormData","email","localStorage","getItem","console","log","push","analysis_video","append","post","then","res","undefined","i","length","history_video_list","value","name","url","result_video_list","showDetail","window","open"],"sources":["C:/Users/31136/Desktop/face_anti_front/src/components/datasetVedio.vue"],"sourcesContent":["<!-- eslint-disable vue/multi-word-component-names -->\r\n<template>\r\n<div class=\"container\">\r\n    <div class=\"box\">\r\n        <h5 class=\"tip\">历史视频数据</h5>\r\n        <br/>\r\n        <br/>\r\n        <br/>\r\n        <div class=\"middle_right\">\r\n            <el-card shadow=\"hover\" class=\"list_button\" v-for=\"(item,index) in history_video_list\" :key=\"index\">\r\n                <template #header>{{ item.name }}</template>\r\n                <video ref=\"video\" :src=\"item.url\" width=\"300\" height=\"200\"></video>\r\n                <br/>\r\n                <div class=\"button_list\">\r\n                    <el-button class=\"button\" type=\"primary\" @click=\"showDetail(item.url)\">查看详情</el-button>\r\n                    <el-button class=\"button\" type=\"primary\">开始分析</el-button>\r\n                    <el-button class=\"button\" type=\"danger\">删除</el-button>\r\n                </div>\r\n            </el-card>\r\n        </div>\r\n    </div>\r\n    <div class=\"box\">\r\n        <h5 class=\"tip\">视频结果数据</h5>\r\n        <br/>\r\n        <br/>\r\n        <br/>\r\n        <div class=\"right\">\r\n            <el-card shadow=\"hover\" class=\"list_button\" v-for=\"(item,index) in result_video_list\" :key=\"index\">\r\n                <template #header>{{ item.name }}</template>\r\n                <video  :src=\"item.url\" width=\"300\" height=\"200\"></video>\r\n                <br/>\r\n                <div class=\"button_list\">\r\n                    <el-button class=\"button\" type=\"primary\" @click=\"showDetail(item.url)\">查看详情</el-button>\r\n                    <el-button class=\"button\" type=\"danger\">删除</el-button>\r\n                </div>\r\n            </el-card>\r\n        </div>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script setup>\r\nimport {ref,onMounted} from 'vue';\r\nimport instance from '@/service';\r\nimport { useRouter } from 'vue-router';\r\nconst router = useRouter()\r\nconst video = ref(null)\r\nonMounted(()=>{\r\n    const formData = new FormData()\r\n    const email = localStorage.getItem('email')\r\n    if(email == null){\r\n        console.log(\"未登录\")\r\n        router.push('./login')\r\n        return\r\n    }\r\n    let video = []\r\n    let analysis_video = []\r\n    formData.append('email',email)\r\n    instance.post('/get_videos',formData).then((res)=>{\r\n        video = res.video === undefined ? [] : res.video\r\n        analysis_video = res.analysis_video === undefined ? [] : res.analysis_video\r\n        for(let i = 0;i<video.length;i++){\r\n            history_video_list.value.push({\r\n                name:video[i].name,\r\n                url:'/api'+video[i].url\r\n            })\r\n        }\r\n        for(let i = 0;i<analysis_video.length;i++){\r\n            result_video_list.value.push({\r\n                name:analysis_video[i].name,\r\n                url:'/api'+analysis_video[i].url\r\n            })\r\n        }\r\n        console.log(result_video_list.value)\r\n    })\r\n})\r\nconst history_video_list = ref([])\r\nconst result_video_list = ref([])\r\nfunction showDetail(url){\r\n    window.open(url,'_blank')\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.container{\r\n    display: flex;\r\n}\r\n.box{\r\n    width: 42vw;\r\n    max-height: 98vh;\r\n    margin-right: 0.1vw;\r\n    overflow: auto;\r\n    min-height: 98vh;\r\n}\r\n.middle_right{\r\n    background-color:  azure;\r\n    display: flex;\r\n    flex-flow: row wrap;\r\n    justify-content: flex-start;\r\n}\r\n.right{\r\n    background-color: white;\r\n    display: flex;\r\n    flex-flow: row wrap;\r\n    justify-content: flex-start;\r\n}\r\n.tip{\r\n    position: fixed;\r\n    z-index: 100;\r\n    width:37.5vw;\r\n    background-color: rgb(221, 219, 219);\r\n    padding: 20px;\r\n    margin-top: 0.0vh;\r\n    border-radius: 10px;\r\n}\r\n.list_button{\r\n    margin-top: 6px;\r\n    width: 20vw;\r\n    max-height: 400px;\r\n}\r\nimg{\r\n    width: 100%;\r\n}\r\n.button{\r\n    width: 100%;\r\n}\r\n.button_list{\r\n    display: flex;\r\n    flex-direction: row;\r\n}\r\n</style>"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA,SAAQA,GAAG,EAACC,SAAS,QAAO,KAAK;AACjC,OAAOC,QAAQ,MAAM,WAAW;AAChC,SAASC,SAAS,QAAQ,YAAY;;;;IACtC,MAAMC,MAAM,GAAGD,SAAS,CAAC,CAAC;IAC1B,MAAME,KAAK,GAAGL,GAAG,CAAC,IAAI,CAAC;IACvBC,SAAS,CAAC,MAAI;MACV,MAAMK,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;MAC/B,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;MAC3C,IAAGF,KAAK,IAAI,IAAI,EAAC;QACbG,OAAO,CAACC,GAAG,CAAC,KAAK,CAAC;QAClBR,MAAM,CAACS,IAAI,CAAC,SAAS,CAAC;QACtB;MACJ;MACA,IAAIR,KAAK,GAAG,EAAE;MACd,IAAIS,cAAc,GAAG,EAAE;MACvBR,QAAQ,CAACS,MAAM,CAAC,OAAO,EAACP,KAAK,CAAC;MAC9BN,QAAQ,CAACc,IAAI,CAAC,aAAa,EAACV,QAAQ,CAAC,CAACW,IAAI,CAAEC,GAAG,IAAG;QAC9Cb,KAAK,GAAGa,GAAG,CAACb,KAAK,KAAKc,SAAS,GAAG,EAAE,GAAGD,GAAG,CAACb,KAAK;QAChDS,cAAc,GAAGI,GAAG,CAACJ,cAAc,KAAKK,SAAS,GAAG,EAAE,GAAGD,GAAG,CAACJ,cAAc;QAC3E,KAAI,IAAIM,CAAC,GAAG,CAAC,EAACA,CAAC,GAACf,KAAK,CAACgB,MAAM,EAACD,CAAC,EAAE,EAAC;UAC7BE,kBAAkB,CAACC,KAAK,CAACV,IAAI,CAAC;YAC1BW,IAAI,EAACnB,KAAK,CAACe,CAAC,CAAC,CAACI,IAAI;YAClBC,GAAG,EAAC,MAAM,GAACpB,KAAK,CAACe,CAAC,CAAC,CAACK;UACxB,CAAC,CAAC;QACN;QACA,KAAI,IAAIL,CAAC,GAAG,CAAC,EAACA,CAAC,GAACN,cAAc,CAACO,MAAM,EAACD,CAAC,EAAE,EAAC;UACtCM,iBAAiB,CAACH,KAAK,CAACV,IAAI,CAAC;YACzBW,IAAI,EAACV,cAAc,CAACM,CAAC,CAAC,CAACI,IAAI;YAC3BC,GAAG,EAAC,MAAM,GAACX,cAAc,CAACM,CAAC,CAAC,CAACK;UACjC,CAAC,CAAC;QACN;QACAd,OAAO,CAACC,GAAG,CAACc,iBAAiB,CAACH,KAAK,CAAC;MACxC,CAAC,CAAC;IACN,CAAC,CAAC;IACF,MAAMD,kBAAkB,GAAGtB,GAAG,CAAC,EAAE,CAAC;IAClC,MAAM0B,iBAAiB,GAAG1B,GAAG,CAAC,EAAE,CAAC;IACjC,SAAS2B,UAAUA,CAACF,GAAG,EAAC;MACpBG,MAAM,CAACC,IAAI,CAACJ,GAAG,EAAC,QAAQ,CAAC;IAC7B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}