{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport instance from '@/service';\nimport { useRouter } from 'vue-router';\nimport { reactive, ref, onMounted } from 'vue';\nexport default {\n  __name: 'datasetPicture',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const router = useRouter();\n    onMounted(() => {\n      const formData = new FormData();\n      const email = localStorage.getItem('email');\n      if (email == null) {\n        console.log(\"未登录\");\n        router.push('./login');\n        return;\n      }\n      let images = [];\n      let analysis_images = [];\n      formData.append('email', email);\n      instance.post('/get_images', formData).then(res => {\n        images = res.img === undefined ? [] : res.img;\n        analysis_images = res.analysis_img === undefined ? [] : res.analysis_images;\n        console.log(images);\n        console.log(analysis_images);\n        for (let i = 0; i < images.length; i++) {\n          history_picture_list.push({\n            name: images[i].name,\n            url: '/api/' + images[i].url\n          });\n        }\n        for (let i = 0; i < analysis_images.length; i++) {\n          result_picture_list.push({\n            name: analysis_images[i].name,\n            url: '/api/' + analysis_images[i].url\n          });\n        }\n      });\n    });\n    const history_picture_list = reactive([]);\n    const result_picture_list = reactive([]);\n    const imgUrl = ref(\"/static/010353_result.jpg\");\n    const __returned__ = {\n      router,\n      history_picture_list,\n      result_picture_list,\n      imgUrl,\n      get instance() {\n        return instance;\n      },\n      get useRouter() {\n        return useRouter;\n      },\n      reactive,\n      ref,\n      onMounted\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["instance","useRouter","reactive","ref","onMounted","router","formData","FormData","email","localStorage","getItem","console","log","push","images","analysis_images","append","post","then","res","img","undefined","analysis_img","i","length","history_picture_list","name","url","result_picture_list","imgUrl"],"sources":["C:/Users/31136/Desktop/face_anti_front/src/components/datasetPicture.vue"],"sourcesContent":["<!-- eslint-disable vue/multi-word-component-names -->\r\n<template>\r\n<div class=\"container\">\r\n    <div class=\"box\">\r\n        <h5 class=\"tip\">历史图片数据</h5>\r\n        <br/>\r\n        <br/>\r\n        <br/>\r\n        <div class=\"left\">\r\n            <el-card shadow=\"hover\" class=\"list_button\" v-for=\"(item,index) in history_picture_list\" :key=\"index\">\r\n                <template #header>{{ item.name }}</template>\r\n                <img :src=\"item.url\" alt=\"\"/>\r\n                <br/>\r\n                <div class=\"button_list\">\r\n                    <el-button class=\"button\" type=\"primary\">查看详情</el-button>\r\n                    <el-button class=\"button\" type=\"danger\">删除</el-button>\r\n                </div>\r\n                \r\n            </el-card>\r\n        </div>\r\n    </div>\r\n        <div class=\"box\">\r\n            <h5 class=\"tip\">图片结果数据</h5>\r\n            <br/>\r\n            <br/>\r\n            <br/>\r\n            <div class=\"middle_left\">\r\n                <el-card shadow=\"hover\" class=\"list_button\" v-for=\"(item,index) in result_picture_list\" :key=\"index\">\r\n                    <template #header>{{ item.name }}</template>\r\n                    <img :src=\"item.url\" alt=\"\"/>\r\n                    <br/>\r\n                    <div class=\"button_list\">\r\n                        <el-button class=\"button\" type=\"primary\">查看详情</el-button>\r\n                        <el-button class=\"button\" type=\"danger\">删除</el-button>\r\n                    </div>\r\n                    \r\n            </el-card>\r\n        </div>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script setup>\r\nimport instance from '@/service';\r\nimport {useRouter} from 'vue-router'\r\nimport {reactive, ref,onMounted} from 'vue';\r\n\r\nconst router = useRouter()\r\nonMounted(()=>{\r\n    const formData = new FormData()\r\n    const email = localStorage.getItem('email')\r\n    if(email == null){\r\n        console.log(\"未登录\")\r\n        router.push('./login')\r\n        return\r\n    }\r\n    let images = []\r\n    let analysis_images = []\r\n    formData.append('email',email)\r\n    instance.post('/get_images',formData).then((res)=>{\r\n        images = res.img === undefined ? [] : res.img\r\n        analysis_images = res.analysis_img === undefined ? [] : res.analysis_images\r\n        console.log(images)\r\n        console.log(analysis_images)\r\n        for(let i = 0;i<images.length;i++){\r\n            history_picture_list.push({\r\n                name:images[i].name,\r\n                url:'/api/'+images[i].url\r\n            })\r\n        }\r\n        for(let i = 0;i<analysis_images.length;i++){\r\n            result_picture_list.push({\r\n                name:analysis_images[i].name,\r\n                url:'/api/'+analysis_images[i].url\r\n            })\r\n        }\r\n    })\r\n})\r\nconst history_picture_list = reactive([])\r\nconst result_picture_list = reactive([])\r\nconst imgUrl = ref(\"/static/010353_result.jpg\")\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.container{\r\n    display: flex;\r\n}\r\n.box{\r\n    width: 42vw;\r\n    max-height: 98vh;\r\n    margin-right: 0.1vw;\r\n    overflow: auto;\r\n    min-height: 98vh;\r\n}\r\n.left{\r\n    background-color:  azure;\r\n    display: flex;\r\n    flex-flow: row wrap;\r\n    justify-content: flex-start;\r\n}\r\n.middle_left{\r\n    background-color: white;\r\n    display: flex;\r\n    flex-flow: row wrap;\r\n    justify-content: flex-start;\r\n}\r\n.tip{\r\n    position: fixed;\r\n    z-index: 100;\r\n    width:37.5vw;\r\n    background-color: rgb(221, 219, 219);\r\n    padding: 20px;\r\n    margin-top: 0.0vh;\r\n    border-radius: 10px;\r\n}\r\n.list_button{\r\n    margin-top: 6px;\r\n    width: 20vw;\r\n}\r\nimg{\r\nwidth: 100%;\r\n}\r\n.button{\r\n    width: 100%;\r\n}\r\n.button_list{\r\n    display: flex;\r\n    flex-direction: row;\r\n}\r\n</style>"],"mappings":";AA2CA,OAAOA,QAAQ,MAAM,WAAW;AAChC,SAAQC,SAAS,QAAO,YAAY;AACpC,SAAQC,QAAQ,EAAEC,GAAG,EAACC,SAAS,QAAO,KAAK;;;;;;;IAE3C,MAAMC,MAAM,GAAGJ,SAAS,CAAC,CAAC;IAC1BG,SAAS,CAAC,MAAI;MACV,MAAME,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;MAC/B,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;MAC3C,IAAGF,KAAK,IAAI,IAAI,EAAC;QACbG,OAAO,CAACC,GAAG,CAAC,KAAK,CAAC;QAClBP,MAAM,CAACQ,IAAI,CAAC,SAAS,CAAC;QACtB;MACJ;MACA,IAAIC,MAAM,GAAG,EAAE;MACf,IAAIC,eAAe,GAAG,EAAE;MACxBT,QAAQ,CAACU,MAAM,CAAC,OAAO,EAACR,KAAK,CAAC;MAC9BR,QAAQ,CAACiB,IAAI,CAAC,aAAa,EAACX,QAAQ,CAAC,CAACY,IAAI,CAAEC,GAAG,IAAG;QAC9CL,MAAM,GAAGK,GAAG,CAACC,GAAG,KAAKC,SAAS,GAAG,EAAE,GAAGF,GAAG,CAACC,GAAG;QAC7CL,eAAe,GAAGI,GAAG,CAACG,YAAY,KAAKD,SAAS,GAAG,EAAE,GAAGF,GAAG,CAACJ,eAAe;QAC3EJ,OAAO,CAACC,GAAG,CAACE,MAAM,CAAC;QACnBH,OAAO,CAACC,GAAG,CAACG,eAAe,CAAC;QAC5B,KAAI,IAAIQ,CAAC,GAAG,CAAC,EAACA,CAAC,GAACT,MAAM,CAACU,MAAM,EAACD,CAAC,EAAE,EAAC;UAC9BE,oBAAoB,CAACZ,IAAI,CAAC;YACtBa,IAAI,EAACZ,MAAM,CAACS,CAAC,CAAC,CAACG,IAAI;YACnBC,GAAG,EAAC,OAAO,GAACb,MAAM,CAACS,CAAC,CAAC,CAACI;UAC1B,CAAC,CAAC;QACN;QACA,KAAI,IAAIJ,CAAC,GAAG,CAAC,EAACA,CAAC,GAACR,eAAe,CAACS,MAAM,EAACD,CAAC,EAAE,EAAC;UACvCK,mBAAmB,CAACf,IAAI,CAAC;YACrBa,IAAI,EAACX,eAAe,CAACQ,CAAC,CAAC,CAACG,IAAI;YAC5BC,GAAG,EAAC,OAAO,GAACZ,eAAe,CAACQ,CAAC,CAAC,CAACI;UACnC,CAAC,CAAC;QACN;MACJ,CAAC,CAAC;IACN,CAAC,CAAC;IACF,MAAMF,oBAAoB,GAAGvB,QAAQ,CAAC,EAAE,CAAC;IACzC,MAAM0B,mBAAmB,GAAG1B,QAAQ,CAAC,EAAE,CAAC;IACxC,MAAM2B,MAAM,GAAG1B,GAAG,CAAC,2BAA2B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}